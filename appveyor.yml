environment:

  matrix:

    # For Python versions available on Appveyor, see
    # http://www.appveyor.com/docs/installed-software#python

    - PYTHON_VERSION: 2.7
      MINICONDA: "C:\\Miniconda"
    - PYTHON_VERSION: 3.6
      MINICONDA: "C:\\Miniconda3"

init:
  - "ECHO %PYTHON_VERSION% %MINICONDA%"
  
install:
  # set up mecab
  - ps: tar -xvzf appveyor-ci/MeCab.tar.gz
  - ps: mv MeCab "C:\\Program Files"
  - set PATH=C:\\Program Files\MeCab\bin;%PATH%
  - mecab -v
  
  # set up conda
  - set PATH=%MINICONDA%;%MINICONDA%\\Scripts;%PATH%
  - conda update conda
  - conda create -n test-env python=%PYTHON_VERSION pip numpy pandas pytest
  - activate test-env
  - python -m pip install -U .

build: off

test_script:
- ps: pytest -v tests/
